!function(a,b){"undefined"!=typeof module&&module.exports?module.exports.browser=b():"function"==typeof define&&define.amd?define(b):this[a]=b()}("bowser",function(){function a(a){function c(b){var c=a.match(b);return c&&c.length>1&&c[1]||""}var d,e=c(/(ipod|iphone|ipad)/i).toLowerCase(),f=/like android/i.test(a),g=!f&&/android/i.test(a),h=c(/version\/(\d+(\.\d+)?)/i),i=/tablet/i.test(a),j=!i&&/[^-]mobi/i.test(a);/opera|opr/i.test(a)?d={name:"Opera",opera:b,version:h||c(/(?:opera|opr)[\s\/](\d+(\.\d+)?)/i)}:/windows phone/i.test(a)?d={name:"Windows Phone",windowsphone:b,msie:b,version:c(/iemobile\/(\d+(\.\d+)?)/i)}:/msie|trident/i.test(a)?d={name:"Internet Explorer",msie:b,version:c(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:/chrome|crios|crmo/i.test(a)?d={name:"Chrome",chrome:b,version:c(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:e?(d={name:"iphone"==e?"iPhone":"ipad"==e?"iPad":"iPod"},h&&(d.version=h)):/sailfish/i.test(a)?d={name:"Sailfish",sailfish:b,version:c(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(a)?d={name:"SeaMonkey",seamonkey:b,version:c(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel/i.test(a)?(d={name:"Firefox",firefox:b,version:c(/(?:firefox|iceweasel)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(a)&&(d.firefoxos=b)):/silk/i.test(a)?d={name:"Amazon Silk",silk:b,version:c(/silk\/(\d+(\.\d+)?)/i)}:g?d={name:"Android",version:h}:/phantom/i.test(a)?d={name:"PhantomJS",phantom:b,version:c(/phantomjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(a)||/rim\stablet/i.test(a)?d={name:"BlackBerry",blackberry:b,version:h||c(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:/(web|hpw)os/i.test(a)?(d={name:"WebOS",webos:b,version:h||c(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(a)&&(d.touchpad=b)):d=/bada/i.test(a)?{name:"Bada",bada:b,version:c(/dolfin\/(\d+(\.\d+)?)/i)}:/tizen/i.test(a)?{name:"Tizen",tizen:b,version:c(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||h}:/safari/i.test(a)?{name:"Safari",safari:b,version:h}:{},/(apple)?webkit/i.test(a)?(d.name=d.name||"Webkit",d.webkit=b,!d.version&&h&&(d.version=h)):!d.opera&&/gecko\//i.test(a)&&(d.name=d.name||"Gecko",d.gecko=b,d.version=d.version||c(/gecko\/(\d+(\.\d+)?)/i)),g||d.silk?d.android=b:e&&(d[e]=b,d.ios=b);var k="";e?(k=c(/os (\d+([_\s]\d+)*) like mac os x/i),k=k.replace(/[_\s]/g,".")):g?k=c(/android[ \/-](\d+(\.\d+)*)/i):d.windowsphone?k=c(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):d.webos?k=c(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):d.blackberry?k=c(/rim\stablet\sos\s(\d+(\.\d+)*)/i):d.bada?k=c(/bada\/(\d+(\.\d+)*)/i):d.tizen&&(k=c(/tizen[\/\s](\d+(\.\d+)*)/i)),k&&(d.osversion=k);var l=k.split(".")[0];return i||"ipad"==e||g&&(3==l||4==l&&!j)||d.silk?d.tablet=b:(j||"iphone"==e||"ipod"==e||g||d.blackberry||d.webos||d.bada)&&(d.mobile=b),d.msie&&d.version>=10||d.chrome&&d.version>=20||d.firefox&&d.version>=20||d.safari&&d.version>=6||d.opera&&d.version>=10||d.ios&&d.osversion&&d.osversion.split(".")[0]>=6||d.blackberry&&d.version>=10.1?d.a=b:d.msie&&d.version<10||d.chrome&&d.version<20||d.firefox&&d.version<20||d.safari&&d.version<6||d.opera&&d.version<10||d.ios&&d.osversion&&d.osversion.split(".")[0]<6?d.c=b:d.x=b,d}var b=!0,c=a("undefined"!=typeof navigator?navigator.userAgent:"");return c._detect=a,c}),function(a){"use strict";function b(a,b){return Math.round(a/b)*b}function c(a){return"number"==typeof a&&!isNaN(a)&&isFinite(a)}function d(a){var b=Math.pow(10,7);return Number((Math.round(a*b)/b).toFixed(7))}function e(a,b,c){a.addClass(b),setTimeout(function(){a.removeClass(b)},c)}function f(a){return Math.max(Math.min(a,100),0)}function g(b){return a.isArray(b)?b:[b]}function h(a){var b=a.split(".");return b.length>1?b[1].length:0}function i(a,b){return 100/(b-a)}function j(a,b){return 100*b/(a[1]-a[0])}function k(a,b){return j(a,a[0]<0?b+Math.abs(a[0]):b-a[0])}function l(a,b){return b*(a[1]-a[0])/100+a[0]}function m(a,b){for(var c=1;a>=b[c];)c+=1;return c}function n(a,b,c){if(c>=a.slice(-1)[0])return 100;var d,e,f,g,h=m(c,a);return d=a[h-1],e=a[h],f=b[h-1],g=b[h],f+k([d,e],c)/i(f,g)}function o(a,b,c){if(c>=100)return a.slice(-1)[0];var d,e,f,g,h=m(c,b);return d=a[h-1],e=a[h],f=b[h-1],g=b[h],l([d,e],(c-f)*i(f,g))}function p(a,c,d,e){if(100===e)return e;var f,g,h=m(e,a);return d?(f=a[h-1],g=a[h],e-f>(g-f)/2?g:f):c[h-1]?a[h-1]+b(e-a[h-1],c[h-1]):e}function q(a,b,d){var e;if("number"==typeof b&&(b=[b]),"[object Array]"!==Object.prototype.toString.call(b))throw new Error("noUiSlider: 'range' contains invalid value.");if(e="min"===a?0:"max"===a?100:parseFloat(a),!c(e)||!c(b[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");d.xPct.push(e),d.xVal.push(b[0]),e?d.xSteps.push(isNaN(b[1])?!1:b[1]):isNaN(b[1])||(d.xSteps[0]=b[1])}function r(a,b,c){return b?void(c.xSteps[a]=j([c.xVal[a],c.xVal[a+1]],b)/i(c.xPct[a],c.xPct[a+1])):!0}function s(a,b,c,d){this.xPct=[],this.xVal=[],this.xSteps=[d||!1],this.xNumSteps=[!1],this.snap=b,this.direction=c;var e,f=[];for(e in a)a.hasOwnProperty(e)&&f.push([a[e],e]);for(f.sort(function(a,b){return a[0]-b[0]}),e=0;e<f.length;e++)q(f[e][1],f[e][0],this);for(this.xNumSteps=this.xSteps.slice(0),e=0;e<this.xNumSteps.length;e++)r(e,this.xNumSteps[e],this)}function t(a,b){if(!c(b))throw new Error("noUiSlider: 'step' is not numeric.");a.singleStep=b}function u(b,c){if("object"!=typeof c||a.isArray(c))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===c.min||void 0===c.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");b.spectrum=new s(c,b.snap,b.dir,b.singleStep)}function v(b,c){if(c=g(c),!a.isArray(c)||!c.length||c.length>2)throw new Error("noUiSlider: 'start' option is incorrect.");b.handles=c.length,b.start=c}function w(a,b){if(a.snap=b,"boolean"!=typeof b)throw new Error("noUiSlider: 'snap' option must be a boolean.")}function x(a,b){if(a.animate=b,"boolean"!=typeof b)throw new Error("noUiSlider: 'animate' option must be a boolean.")}function y(a,b){if("lower"===b&&1===a.handles)a.connect=1;else if("upper"===b&&1===a.handles)a.connect=2;else if(b===!0&&2===a.handles)a.connect=3;else{if(b!==!1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");a.connect=0}}function z(a,b){switch(b){case"horizontal":a.ort=0;break;case"vertical":a.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function A(a,b){if(!c(b))throw new Error("noUiSlider: 'margin' option must be numeric.");if(a.margin=a.spectrum.getMargin(b),!a.margin)throw new Error("noUiSlider: 'margin' option is only supported on linear sliders.")}function B(a,b){if(!c(b))throw new Error("noUiSlider: 'limit' option must be numeric.");if(a.limit=a.spectrum.getMargin(b),!a.limit)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders.")}function C(a,b){switch(b){case"ltr":a.dir=0;break;case"rtl":a.dir=1,a.connect=[0,2,1,3][a.connect];break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function D(a,b){if("string"!=typeof b)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var c=b.indexOf("tap")>=0,d=b.indexOf("drag")>=0,e=b.indexOf("fixed")>=0,f=b.indexOf("snap")>=0;a.events={tap:c||f,drag:d,fixed:e,snap:f}}function E(a,b){if(a.format=b,"function"==typeof b.to&&"function"==typeof b.from)return!0;throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.")}function F(b){var c,d={margin:0,limit:0,animate:!0,format:V};return c={step:{r:!1,t:t},start:{r:!0,t:v},connect:{r:!0,t:y},direction:{r:!0,t:C},snap:{r:!1,t:w},animate:{r:!1,t:x},range:{r:!0,t:u},orientation:{r:!1,t:z},margin:{r:!1,t:A},limit:{r:!1,t:B},behaviour:{r:!0,t:D},format:{r:!1,t:E}},b=a.extend({connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal"},b),a.each(c,function(a,c){if(void 0===b[a]){if(c.r)throw new Error("noUiSlider: '"+a+"' is required.");return!0}c.t(d,b[a])}),d.style=d.ort?"top":"left",d}function G(a,b,c){var d=a+b[0],e=a+b[1];return c?(0>d&&(e+=Math.abs(d)),e>100&&(d-=e-100),[f(d),f(e)]):[d,e]}function H(a){a.preventDefault();var b,c,d=0===a.type.indexOf("touch"),e=0===a.type.indexOf("mouse"),f=0===a.type.indexOf("pointer"),g=a;return 0===a.type.indexOf("MSPointer")&&(f=!0),a.originalEvent&&(a=a.originalEvent),d&&(b=a.changedTouches[0].pageX,c=a.changedTouches[0].pageY),(e||f)&&(f||void 0!==window.pageXOffset||(window.pageXOffset=document.documentElement.scrollLeft,window.pageYOffset=document.documentElement.scrollTop),b=a.clientX+window.pageXOffset,c=a.clientY+window.pageYOffset),g.points=[b,c],g.cursor=e,g}function I(b,c){var d=a("<div><div/></div>").addClass(U[2]),e=["-lower","-upper"];return b&&e.reverse(),d.children().addClass(U[3]+" "+U[3]+e[c]),d}function J(a,b,c){switch(a){case 1:b.addClass(U[7]),c[0].addClass(U[6]);break;case 3:c[1].addClass(U[6]);case 2:c[0].addClass(U[7]);case 0:b.addClass(U[6])}}function K(a,b,c){var d,e=[];for(d=0;a>d;d+=1)e.push(I(b,d).appendTo(c));return e}function L(b,c,d){return d.addClass([U[0],U[8+b],U[4+c]].join(" ")),a("<div/>").appendTo(d).addClass(U[1])}function M(b,c,d){function i(){return C[["width","height"][c.ort]]()}function j(a){var b,c=[E.val()];for(b=0;b<a.length;b+=1)E.trigger(a[b],c)}function k(a){return 1===a.length?a[0]:c.dir?a.reverse():a}function l(a){return function(b,c){E.val([a?null:c,a?c:null],!0)}}function m(b){var c=a.inArray(b,N);E[0].linkAPI&&E[0].linkAPI[b]&&E[0].linkAPI[b].change(M[c],D[c].children(),E)}function n(b,d){var e=a.inArray(b,N);return d&&d.appendTo(D[e].children()),c.dir&&c.handles>1&&(e=1===e?0:1),l(e)}function o(){var a,b;for(a=0;a<N.length;a+=1)this.linkAPI&&this.linkAPI[b=N[a]]&&this.linkAPI[b].reconfirm(b)}function p(a,b,d,e){return a=a.replace(/\s/g,S+" ")+S,b.on(a,function(a){return E.attr("disabled")?!1:E.hasClass(U[14])?!1:(a=H(a),a.calcPoint=a.points[c.ort],void d(a,e))})}function q(a,b){var c,d=b.handles||D,e=!1,f=100*(a.calcPoint-b.start)/i(),g=d[0][0]!==D[0][0]?1:0;c=G(f,b.positions,d.length>1),e=v(d[0],c[g],1===d.length),d.length>1&&(e=v(d[1],c[g?0:1],!1)||e),e&&j(["slide"])}function r(b){a("."+U[15]).removeClass(U[15]),b.cursor&&a("body").css("cursor","").off(S),Q.off(S),E.removeClass(U[12]),j(["set","change"])}function s(b,c){1===c.handles.length&&c.handles[0].children().addClass(U[15]),b.stopPropagation(),p(T.move,Q,q,{start:b.calcPoint,handles:c.handles,positions:[F[0],F[D.length-1]]}),p(T.end,Q,r,null),b.cursor&&(a("body").css("cursor",a(b.target).css("cursor")),D.length>1&&E.addClass(U[12]),a("body").on("selectstart"+S,!1))}function t(b){var d,f=b.calcPoint,g=0;b.stopPropagation(),a.each(D,function(){g+=this.offset()[c.style]}),g=g/2>f||1===D.length?0:1,f-=C.offset()[c.style],d=100*f/i(),c.events.snap||e(E,U[14],300),v(D[g],d),j(["slide","set","change"]),c.events.snap&&s(b,{handles:[D[g]]})}function u(a){var b,c;if(!a.fixed)for(b=0;b<D.length;b+=1)p(T.start,D[b].children(),s,{handles:[D[b]]});a.tap&&p(T.start,C,t,{handles:D}),a.drag&&(c=C.find("."+U[7]).addClass(U[10]),a.fixed&&(c=c.add(C.children().not(c).children())),p(T.start,c,s,{handles:D}))}function v(a,b,d){var e=a[0]!==D[0][0]?1:0,g=F[0]+c.margin,h=F[1]-c.margin,i=F[0]+c.limit,j=F[1]-c.limit;return D.length>1&&(b=e?Math.max(b,g):Math.min(b,h)),d!==!1&&c.limit&&D.length>1&&(b=e?Math.min(b,i):Math.max(b,j)),b=I.getStep(b),b=f(parseFloat(b.toFixed(7))),b===F[e]?!1:(a.css(c.style,b+"%"),a.is(":first-child")&&a.toggleClass(U[17],b>50),F[e]=b,M[e]=I.fromStepping(b),m(N[e]),!0)}function w(a,b){var d,e,f;for(c.limit&&(a+=1),d=0;a>d;d+=1)e=d%2,f=b[e],null!==f&&f!==!1&&("number"==typeof f&&(f=String(f)),f=c.format.from(f),(f===!1||isNaN(f)||v(D[e],I.toStepping(f),d===3-c.dir)===!1)&&m(N[e]))}function x(a){if(E[0].LinkIsEmitting)return this;var b,d=g(a);return c.dir&&c.handles>1&&d.reverse(),c.animate&&-1!==F[0]&&e(E,U[14],300),b=D.length>1?3:1,1===d.length&&(b=1),w(b,d),j(["set"]),this}function y(){var a,b=[];for(a=0;a<c.handles;a+=1)b[a]=c.format.to(M[a]);return k(b)}function z(){return a(this).off(S).removeClass(U.join(" ")).empty(),delete this.LinkUpdate,delete this.LinkConfirm,delete this.LinkDefaultFormatter,delete this.LinkDefaultFlag,delete this.reappend,delete this.vGet,delete this.vSet,delete this.getCurrentStep,delete this.getInfo,delete this.destroy,d}function A(){var b=a.map(F,function(a,b){var c=I.getApplicableStep(a),d=h(String(c[2])),e=M[b],f=100===a?null:c[2],g=Number((e-c[2]).toFixed(d)),i=0===a?null:g>=c[1]?c[2]:c[0]||!1;return[[i,f]]});return k(b)}function B(){return d}var C,D,E=a(b),F=[-1,-1],I=c.spectrum,M=[],N=["lower","upper"].slice(0,c.handles);if(c.dir&&N.reverse(),b.LinkUpdate=m,b.LinkConfirm=n,b.LinkDefaultFormatter=c.format,b.LinkDefaultFlag="lower",b.reappend=o,E.hasClass(U[0]))throw new Error("Slider was already initialized.");C=L(c.dir,c.ort,E),D=K(c.handles,c.dir,C),J(c.connect,E,D),u(c.events),b.vSet=x,b.vGet=y,b.destroy=z,b.getCurrentStep=A,b.getOriginalOptions=B,b.getInfo=function(){return[I,c.style,c.ort]},E.val(c.start)}function N(a){var b=F(a,this);return this.each(function(){M(this,b,a)})}function O(b){return this.each(function(){if(!this.destroy)return void a(this).noUiSlider(b);var c=a(this).val(),d=this.destroy(),e=a.extend({},d,b);a(this).noUiSlider(e),this.reappend(),d.start===e.start&&a(this).val(c)})}function P(){return this[0][arguments.length?"vSet":"vGet"].apply(this[0],arguments)}var Q=a(document),R=a.fn.val,S=".nui",T=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},U=["noUi-target","noUi-base","noUi-origin","noUi-handle","noUi-horizontal","noUi-vertical","noUi-background","noUi-connect","noUi-ltr","noUi-rtl","noUi-dragable","","noUi-state-drag","","noUi-state-tap","noUi-active","","noUi-stacking"];s.prototype.getMargin=function(a){return 2===this.xPct.length?j(this.xVal,a):!1},s.prototype.toStepping=function(a){return a=n(this.xVal,this.xPct,a),this.direction&&(a=100-a),a},s.prototype.fromStepping=function(a){return this.direction&&(a=100-a),d(o(this.xVal,this.xPct,a))},s.prototype.getStep=function(a){return this.direction&&(a=100-a),a=p(this.xPct,this.xSteps,this.snap,a),this.direction&&(a=100-a),a},s.prototype.getApplicableStep=function(a){var b=m(a,this.xPct),c=100===a?2:1;return[this.xNumSteps[b-2],this.xVal[b-c],this.xNumSteps[b-c]]},s.prototype.convert=function(a){return this.getStep(this.toStepping(a))};var V={to:function(a){return a.toFixed(2)},from:Number};a.fn.val=function(b){function c(a){return a.hasClass(U[0])?P:R}if(!arguments.length){var d=a(this[0]);return c(d).call(d)}var e=a.isFunction(b);return this.each(function(d){var f=b,g=a(this);e&&(f=b.call(this,d,g.val())),c(g).call(g,f)})},a.fn.noUiSlider=function(a,b){switch(a){case"step":return this[0].getCurrentStep();case"options":return this[0].getOriginalOptions()}return(b?O:N).call(this,a)}}(window.jQuery||window.Zepto);var $=jQuery;!function(a){function b(a,b){var c=this;c.gg=a,c.player=b,c.is_playing=!1}var c,d,e=null;window.bindNielsenSDKEvents=function(e,h){var k=h.addEventListener?!0:!1,l={"track-cue-point":j,"ad-break-cue-point":i,"stream-status":g};d=a.callsign,c=new b(e,h);for(var m in l)k?h.addEventListener(m,l[m]):h.attachEvent(m,l[m]);k?document.addEventListener("live-player-stream-changed",f):document.attachEvent("live-player-stream-changed",f)};var f=function(a){l("Stream has been changed to "+a.detail),d=a.detail},g=function(a){l("onStreamStatus: "+a.data.code+" "+Date.now()),("LIVE_PAUSE"===a.data.code||"LIVE_STOP"===a.data.code)&&k(),"LIVE_PLAYING"===a.data.code&&(c.is_playing||(l("Send now playing metadata event to Nielsen SDK."),c.gg.ggPM(15,{dataSrc:"cms",assetid:d,type:"radio",provider:"GreaterMedia",stationType:1}),h(),c.is_playing=!0))},h=function(){e||(e=setInterval(function(){l("Send playhead position event to Nielsen SDK."),c.gg.ggPM(49,Date.now()/1e3)},9500))},i=function(a){var b=a.data.adBreakData;c.is_playing&&k(),l("Send ad block cue metadata event to Nielsen SDK."),c.gg.ggPM(15,{dataSrc:"cms",assetid:d,title:b.cueTitle,length:b.duration/1e3,type:"radio",provider:"GreaterMedia",stationType:1}),h(),c.is_playing=!0},j=function(a){var b=a.data.cuePoint;c.is_playing&&k(),l("Send track cue metadata event to Nielsen SDK."),c.gg.ggPM(15,{dataSrc:"cms",assetid:d,title:b.cueTitle,length:b.cueTimeDuration,type:"radio",provider:"GreaterMedia",stationType:1}),h(),c.is_playing=!0},k=function(){c.is_playing&&(l("Send stop event to Nielsen SDK."),c.gg.ggPM(7,Date.now()/1e3),c.is_playing=!1,e&&(clearInterval(e),e=null))},l=function(b){a.debug&&console&&console.log(b)}}(gmr),function(a,b){"use strict";function c(){is_gigya_user_logged_in()?a.support.pjax&&a(d).pjax("a:not(.ab-item)",".main",{fragment:".main",maxCacheLength:500,timeout:1e4}):gmr.wpLoggedIn?a.support.pjax&&a(d).pjax("a:not(.ab-item)",".page-wrap",{fragment:".page-wrap",maxCacheLength:500,timeout:1e4}):a.support.pjax&&a(d).pjax("a:not(.ab-item)",".main",{fragment:".main",maxCacheLength:500,timeout:1e4})}var d=b.document,e=(d.querySelectorAll("body"),a("#playButton")),f=(a("#pauseButton"),a("#resumeButton")),g=a("#live-stream__listen-now"),h=a("#live-stream__login"),i=a(".header__account--btn");e.on("click",function(){c()}),f.on("click",function(){c()}),e.on("click",function(){is_gigya_user_logged_in()||(Cookies.set("gmlp_play_button_pushed",1),Cookies.set("gmr_play_live_audio",0))}),h.on("click",function(){is_gigya_user_logged_in()||(Cookies.set("gmlp_play_button_pushed",1),Cookies.set("gmr_play_live_audio",0))}),g.on("click",function(){is_gigya_user_logged_in()||(Cookies.set("gmlp_play_button_pushed",1),Cookies.set("gmr_play_live_audio",0))}),i.on("click",function(){is_gigya_user_logged_in()||Cookies.set("gmr_play_live_audio",0)})}(jQuery,window),function(a,b,c){"use strict";function d(a,b,c){null!=a&&(a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c))}function e(){var b=gmr.intervals.live_streaming;b>0&&(mb("Live stream interval set"),ac=setInterval(function(){a(Fb).trigger("liveStreamPlaying.gmr"),mb("Live stream interval reached")},60*b*1e3))}function f(){var b=gmr.intervals.inline_audio;b>0&&(mb("Inline audio interval set"),_b=setInterval(function(){a(Fb).trigger("inlineAudioPlaying.gmr"),mb("Inline audio interval reached")},60*b*1e3))}function g(){clearInterval(ac),mb("Live stream interval off")}function h(){clearInterval(_b),mb("Inline audio interval off")}function i(){return bowser.firefox?["Flash","Html5"]:bowser.safari?["Html5","Flash"]:bowser.chrome?["Html5","Flash"]:["Html5","Flash"]}function j(){var a=i();mb("+++ initPlayer - techPriority = "+a.join(", "));var c={coreModules:[{id:"MediaPlayer",playerId:"td_container",isDebug:!1,techPriority:a,timeShift:{active:0,max_listening_time:35},geoTargeting:{desktop:{isActive:!1},iOS:{isActive:!1},android:{isActive:!1}},plugins:[{id:"vastAd"}]},{id:"NowPlayingApi"},{id:"Npe"},{id:"PlayerWebAdmin"},{id:"SyncBanners",elements:[{id:"td_synced_bigbox",width:300,height:250}]},{id:"TargetSpot"}]};require(["tdapi/base/util/Companions"],function(a){Bb=new a}),b.player=ub=new TdPlayerApi(c),ub.addEventListener?(ub.addEventListener("player-ready",G),ub.addEventListener("configuration-error",bb),ub.addEventListener("module-error",cb)):ub.attachEvent&&(ub.attachEvent("player-ready",G),ub.attachEvent("configuration-error",bb),ub.attachEvent("module-error",cb)),ub.loadModules()}function k(){null!=Kb&&d(Kb,"click",E),null!=Lb&&(is_gigya_user_logged_in()?d(Lb,"click",D):d(Lb,"click",function(){b.location.href=Ub})),null!=Vb&&d(Vb,"click",nb)}function l(){null!==Gb&&(Gb.classList.add("stream__active"),Jb.classList.add(!0===Cb&&b.innerWidth<=767?"live-player__login":"live-player__muted"),Lb.classList.contains("live-player__muted")||Lb.classList.add("live-player__muted"),Lb.classList.contains("resume__live")&&Lb.classList.remove("resume__live"),!0===Cb?(Rb.style.display="none",Qb.style.display="inline-block"):(Rb.style.display="inline-block",Qb.style.display="none"),!1===Cb&&null!=Mb&&Mb.classList.add("loading"),!0===Cb&&null!=Kb?Kb.classList.contains("live-player__muted")&&Kb.classList.remove("live-player__muted"):Kb.classList.add("live-player__muted"))}function m(){null!==Gb&&(Lb.classList.contains("live-player__muted")&&(Lb.classList.remove("live-player__muted"),Lb.classList.add("resume__live")),Qb.style.display="inline-block",Rb.style.display="none",Kb.classList.add("live-player__muted"))}function n(){null!==Gb&&(Jb.classList.add(!0===Cb&&b.innerWidth<=767?"live-player__login":"live-player__muted"),Fb.classList.contains("live-player--active")&&Fb.classList.remove("live-player--active"),Qb.style.display="inline-block",Rb.style.display="none",Kb.classList.add("live-player__muted"),Lb.classList.contains("live-player__muted")&&(Lb.classList.remove("live-player__muted"),Lb.classList.add("resume__live")),Lb.classList.add("resume__audio"))}function o(){var a,b=document.querySelectorAll(".audio__time");for(a=0;a<b.length;++a)b[a].classList.add("playing");null!=Ib&&Ib.classList.add("audio__playing"),null!=Xb&&Xb.classList.add("audio__playing"),null!=Hb&&Hb.classList.add("playing"),null!=Yb&&Yb.classList.add("playing"),null!=Qb&&setTimeout(function(){Qb.innerHTML="Switch to Live Stream"},1e3)}function p(b){var c,d=b.target,e=a(d).parents(".podcast-player"),f=d.parentNode,g=f.nextElementSibling,h=g.nextElementSibling,i=e.find(".podcast__play .audio__time"),j=document.querySelector(".podcast__runtime"),k=f.parentNode,l=k.nextElementSibling,m=l.querySelector(".audio__time");if(a(".playing__current").removeClass("playing__current"),null!=Pb&&(Fb.classList.contains("single-show")||Fb.classList.contains("post-type-archive-podcast")||Fb.classList.contains("single-podcast")||Fb.classList.contains("home")))g.classList.add("playing__current"),h.classList.add("playing");else if(null==Pb||(Fb.classList.contains("single-show")||Fb.classList.contains("post-type-archive-podcast")||Fb.classList.contains("single-podcast"))){for(c=0;c<i.length;++c)null!=i[c]&&(i[c].classList.add("playing"),i[c].classList.add("playing__current"));j.classList.add("playing")}else g.classList.add("playing__current"),m.classList.add("playing__current")}function q(){var a,b=document.querySelectorAll(".audio__time"),c=document.querySelectorAll(".podcast__runtime");for(a=0;a<b.length;++a)null!=b[a]&&b[a].classList.contains("playing")&&b[a].classList.remove("playing"),null!=b[a]&&b[a].classList.contains("playing__current")&&b[a].classList.remove("playing__current");for(null!=Ib&&Ib.classList.remove("audio__playing"),null!=Xb&&Xb.classList.remove("audio__playing"),null!=Hb&&Hb.classList.remove("playing"),a=0;a<c.length;++a)null!=c[a]&&c[a].classList.contains("playing")&&c[a].classList.remove("playing");null!=Yb&&Yb.classList.remove("playing")}function r(){b.innerWidth<=767&&(""===Zb.innerHTML?(Wb.classList.add("on-air__npe"),$b.classList.add("full__width")):Wb.classList.contains("on-air__npe")&&(Wb.classList.remove("on-air__npe"),$b.classList.remove("full__width")))}function s(){null!=Jb&&Jb.classList.add("play-btn--heartbeat"),null!=Hb&&Hb.classList.add("live-player--heartbeat")}function t(){null!=Jb&&Jb.classList.contains("play-btn--heartbeat")&&Jb.classList.remove("play-btn--heartbeat"),null!=Hb&&Hb.classList.contains("live-player--heartbeat")&&Hb.classList.remove("live-player--heartbeat")}function u(){bc=1,mb("-- Player Initialized By Click ---")}function v(){bc=!0,mb("-- Player Ready to Go ---")}function w(){is_gigya_user_logged_in()&&bc===!0&&(m(),b.innerWidth>=768?C():B())}function x(){is_gigya_user_logged_in()?(null!=Jb&&d(Jb,"click",function(){bc===!0?(m(),b.innerWidth>=768?C():B()):u()}),null!=Qb&&d(Qb,"click",ec)):(null!=Jb&&d(Jb,"click",function(){b.location.href=Ub,v()}),null!=Qb&&d(Qb,"click",function(){b.location.href=Ub}),null!=Sb&&b.innerWidth<=767&&d(Sb,"click",function(){b.location.href=Ub}),null!=Nb&&d(Nb,"click",pb))}function y(){var a=document.getElementById("live-stream__container");Fb.classList.add("vast-ad--playing"),null!=a&&a.classList.add("vast__pre-roll")}function z(){var a=document.getElementById("live-stream__container");Fb.classList.contains("vast-ad--playing")&&Fb.classList.remove("vast-ad--playing"),null!=a&&a.classList.remove("vast__pre-roll"),Cookies.set("gmr_play_live_audio",c),Cookies.set("gmr_play_live_audio",1,{expires:86400})}function A(){var a=gmr.streamUrl;kb(),jb(),ub.stop(),ub.skipAd(),ub.playAd("vastAd",{url:a}),setTimeout(function(){this.stop()},25e3)}function B(){var a=gmr.callsign;return pb(),""===a?void alert("Please enter a Station"):(!0===Cb&&ec(),mb("playLiveStream - station="+a),y(),A(),void(ub.addEventListener?ub.addEventListener("ad-playback-complete",function(){z(),mb("--- ad complete ---"),Ab&&ub.stop(),Fb.classList.add("live-player--active"),Hb.classList.add("live-player--active"),ub.play({station:a,timeShift:!0}),l()}):ub.attachEvent&&ub.attachEvent("ad-playback-complete",function(){z(),mb("--- ad complete ---"),Ab&&ub.stop(),Fb.classList.add("live-player--active"),Hb.classList.add("live-player--active"),ub.play({station:a,timeShift:!0}),l()})))}function C(){var a=gmr.callsign;if(pb(),!0===Cb)kc(),l();else{if(""===a)return void alert("Please enter a Station");mb("playLiveStream - station="+a),y(),A(),ub.addEventListener?ub.addEventListener("ad-playback-complete",function(){z(),mb("--- ad complete ---"),Ab&&ub.stop(),Fb.classList.add("live-player--active"),Hb.classList.add("live-player--active"),ub.play({station:a,timeShift:!0}),l()}):ub.attachEvent&&ub.attachEvent("ad-playback-complete",function(){z(),mb("--- ad complete ---"),Ab&&ub.stop(),Fb.classList.add("live-player--active"),Hb.classList.add("live-player--active"),ub.play({station:a,timeShift:!0}),l()})}}function D(){if(pb(),!0===Cb)kc(),l();else{var a=gmr.callsign;if(""===a)return void alert("Please enter a Station");mb("playLiveStream - station="+a),Ab&&ub.stop(),Hb.classList.add("live-player--active"),ub.play({station:a,timeShift:!0}),l()}}function E(){!0===Cb?(mc(),h()):(Eb=!1,ub.pause(),g()),Hb.classList.contains("live-player--active")&&Hb.classList.remove("live-player--active"),n()}function F(){if(""===a("#songHistoryCallsignUser").val())return void alert("Please enter a Callsign");var b="hdConnection"==a("#songHistoryConnectionTypeSelect").val();ub.NowPlayingApi.load({mount:a("#songHistoryCallsignUser").val(),hd:b,numberToFetch:15})}function G(){ub.MediaPlayer!==c&&(k(),ub.addEventListener?(ub.addEventListener("track-cue-point",S),ub.addEventListener("ad-break-cue-point",V),ub.addEventListener("stream-track-change",T),ub.addEventListener("hls-cue-point",U),ub.addEventListener("stream-status",db),ub.addEventListener("stream-geo-blocked",eb),ub.addEventListener("timeout-alert",$),ub.addEventListener("timeout-reach",ab),ub.addEventListener("stream-select",Q),ub.addEventListener("stream-start",P),ub.addEventListener("stream-stop",R)):ub.attachEvent&&(ub.attachEvent("track-cue-point",S),ub.attachEvent("ad-break-cue-point",V),ub.attachEvent("stream-track-change",T),ub.attachEvent("hls-cue-point",U),ub.attachEvent("stream-status",db),ub.attachEvent("stream-geo-blocked",eb),ub.attachEvent("timeout-alert",$),ub.attachEvent("timeout-reach",ab),ub.attachEvent("stream-select",Q),ub.attachEvent("stream-start",P),ub.attachEvent("stream-stop",R)),ub.setVolume(1),fb("Api Ready"),1===bc?(v(),w()):1===Cookies.get("gmlp_play_button_pushed")?(v(),w()):v(),b.innerWidth>=768&&(s(),setTimeout(t,2e3)),gb(ub.MediaPlayer.tech.type),ub.addEventListener?(ub.addEventListener("list-loaded",X),ub.addEventListener("list-empty",Y),ub.addEventListener("nowplaying-api-error",Z)):ub.attachEvent&&(ub.attachEvent("list-loaded",X),ub.attachEvent("list-empty",Y),ub.attachEvent("nowplaying-api-error",Z)),a("#fetchSongHistoryByUserCallsignButton").click(function(){F()}),ub.addEventListener?ub.addEventListener("pwa-data-loaded",ib):ub.attachEvent&&ub.attachEvent("pwa-data-loaded",ib),a("#pwaButton").click(function(){hb()}),a(document).ready(function(){var a=b.get_gigya_user_field&&get_gigya_user_field("nielsen_optout");if(!a&&b._nolggGlobalParams){var c=new NOLCMB.ggInitialize(b._nolggGlobalParams);bindNielsenSDKEvents(c,ub)}}),bowser.ios?Hb.classList.add("no-volume-control"):(cc.noUiSlider({start:O(),range:{min:0,max:1}}),cc.on("slide",function(){dc=parseFloat(cc.val()),isNaN(dc)&&(dc=1),Ab&&ub.setVolume(dc),Db&&(Db.volume=dc),"undefined"!=typeof localStorage&&localStorage.setItem("gmr-live-player-volume",dc)})))}function H(a){yb=!0,fb("Advertising... Type="+a.data.type)}function I(){yb=!1,a("#td_adserver_bigbox").empty(),a("#td_adserver_leaderboard").empty(),fb("Ready")}function J(){fb("Ready"),z();var a=gmr.callsign;Ab&&ub.stop(),Hb.classList.add("live-player--active"),ub.play({station:a,timeShift:!0}),l()}function K(a){mb("Ad countdown : "+a.data.countDown+" second(s)")}function L(a){mb("Vast Process complete");var b=a.data.companions;N(b)}function M(a){mb("Vpaid Ad Companions"),N(a.companions)}function N(b){if(b&&b.length>0){var c=-1,d=-1;a.each(b,function(a,b){300==parseInt(b.width)&&250==parseInt(b.height)?c=a:728==parseInt(b.width)&&90==parseInt(b.height)&&(d=a)}),c>-1&&Bb.loadVASTCompanionAd("td_adserver_bigbox",b[c]),d>-1&&Bb.loadVASTCompanionAd("td_adserver_leaderboard",b[d])}}function O(){var a=dc;return"undefined"!=typeof localStorage&&(a=localStorage.getItem("gmr-live-player-volume"),null===a?a=1:(a=parseFloat(a),isNaN(a)&&(a=1))),a}function P(){Ab=!0,Eb=!0,Mb.classList.contains("loading")&&Mb.classList.remove("loading"),Kb.classList.contains("live-player__muted")&&Kb.classList.remove("live-player__muted"),e(),ub.setVolume(O())}function Q(){a("#hasHQ").html(ub.MediaPlayer.hasHQ().toString()),a("#isHQ").html(ub.MediaPlayer.isHQ().toString()),a("#hasLow").html(ub.MediaPlayer.hasLow().toString()),a("#isLow").html(ub.MediaPlayer.isLow().toString())}function R(){Ab=!1,Eb=!1,W(),a("#trackInfo").html(""),a("#asyncData").html(""),a("#hasHQ").html("N/A"),a("#isHQ").html("N/A"),a("#hasLow").html("N/A"),a("#isLow").html("N/A"),g()}function S(b){mb("New Track cuepoint received"),mb("Title: "+b.data.cuePoint.cueTitle+" - Artist: "+b.data.cuePoint.artistName),zb&&zb!=b.data.cuePoint&&W(),b.data.cuePoint.nowplayingURL&&ub.Npe.loadNpeMetadata(b.data.cuePoint.nowplayingURL,b.data.cuePoint.artistName,b.data.cuePoint.cueTitle),zb=b.data.cuePoint,a("#trackInfo").html('<div class="now-playing__title">'+zb.cueTitle+'</div><div class="now-playing__artist">'+zb.artistName+"</div>"),setTimeout(r,1e4),a(Fb).trigger("liveAudioTrack.gmr")}function T(a){mb("Stream Track has changed"),mb("Codec:"+a.data.cuePoint.audioTrack.codec()+" - Bitrate:"+a.data.cuePoint.audioTrack.bitRate())}function U(a){mb("New HLS cuepoint received"),mb("Track Id:"+a.data.cuePoint.hlsTrackId+" SegmentId:"+a.data.cuePoint.hlsSegmentId)}function V(){fb("Commercial break...")}function W(){a("#npeInfo").html(""),a("#asyncData").html("")}function X(b){mb("Song History loaded"),a("#asyncData").html('<br><p><span class="label label-warning">Song History:</span>');var c,d='<table class="table table-striped"><thead><tr><th>Song title</th><th>Artist name</th><th>Time</th></tr></thead>';a.each(b.data.list,function(a,b){c=new Date(Number(b.cueTimeStart)),d+="<tr><td>"+b.cueTitle+"</td><td>"+b.artistName+"</td><td>"+c.toLocaleTimeString()+"</td></tr>"}),d+="</table></p>",a("#asyncData").html("<div>"+d+"</div>")}function Y(){a("#asyncData").html('<br><p><span class="label label-important">Song History is empty</span>')}function Z(){mb("Song History loading error",!0),a("#asyncData").html('<br><p><span class="label label-important">Song History error</span>')}function $(){mb("Time Out Alert")}function ab(){mb("Time Out Reached")}function bb(){mb("Configuration error",!0)}function cb(b){var c="";a.each(b.data.errors,function(a,b){c+="ERROR : "+b.data.error.message+"<br/>"}),a("#status").html('<p><span class="label label-important">'+c+"</span><p></p>")}function db(a){mb("tdplayer::onStatus"),fb(a.data.status)}function eb(a){mb("tdplayer::onGeoBlocked"),fb(a.data.text)
}function fb(b){mb(b),a("#status").html('<p><span class="label label-success">Status: '+b+"</span></p>")}function gb(b){var c=ub.version.major+"."+ub.version.minor+"."+ub.version.patch+"."+ub.version.flag,d='<p><span class="label label-info">Api version: '+c+" - Technology: "+b;ub.flash.available&&(d+=" - Your current version of flash plugin is: "+ub.flash.version.major+"."+ub.flash.version.minor+"."+ub.flash.version.rev),d+="</span></p>",a("#techInfo").html(d)}function hb(){return""===a("#pwaCallsign").val()||""===a("#pwaStreamId").val()?void alert("Please enter a Callsign and a streamid"):void ub.PlayerWebAdmin.load(a("#pwaCallsign").val(),a("#pwaStreamId").val())}function ib(b){mb("PlayerWebAdmin data loaded successfully"),a("#asyncData").html('<br><p><span class="label label-warning">PlayerWebAdmin:</span>');var c='<table class="table table-striped"><thead><tr><th>Key</th><th>Value</th></tr></thead>';for(var d in b.data.config)c+="<tr><td>"+d+"</td><td>"+b.data.config[d]+"</td></tr>";c+="</table></p>",a("#asyncData").html("<div>"+c+"</div>")}function jb(){ub.addEventListener?(ub.addEventListener("ad-playback-start",H),ub.addEventListener("ad-playback-error",J),ub.addEventListener("ad-playback-complete",I),ub.addEventListener("ad-countdown",K),ub.addEventListener("vast-process-complete",L),ub.addEventListener("vpaid-ad-companions",M)):ub.attachEvent&&(ub.attachEvent("ad-playback-start",H),ub.attachEvent("ad-playback-error",J),ub.attachEvent("ad-playback-complete",I),ub.attachEvent("ad-countdown",K),ub.attachEvent("vast-process-complete",L),ub.attachEvent("vpaid-ad-companions",M))}function kb(){ub.removeEventListener?(ub.removeEventListener("ad-playback-start",H),ub.removeEventListener("ad-playback-error",J),ub.removeEventListener("ad-playback-complete",I),ub.removeEventListener("ad-countdown",K),ub.removeEventListener("vast-process-complete",L),ub.removeEventListener("vpaid-ad-companions",M)):ub.detachEvent&&(ub.detachEvent("ad-playback-start",H),ub.detachEvent("ad-playback-error",J),ub.detachEvent("ad-playback-complete",I),ub.detachEvent("ad-countdown",K),ub.detachEvent("vast-process-complete",L),ub.detachEvent("vpaid-ad-companions",M))}function lb(){for(var a,c=[],d=b.location.href.slice(b.location.href.indexOf("?")+1).split("&"),e=0;e<d.length;e++)a=d[e].split("="),c.push(a[0]),c[a[0]]=a[1];return c}function mb(c,d){gmr.debug&&(b.console&&(d?console.error(c):console.log(c)),a("#debugInformation").append(c),a("#debugInformation").append("\n"))}function nb(){a("#debugInformation").html("")}function ob(){if("undefined"!=typeof Modernizr&&Modernizr.audio){var b=document.querySelectorAll(".content"),c=a(b);c.on("click",".podcast__btn--play",function(b){var c=a(b.currentTarget);p(b),lc(c.attr("data-mp3-src")),hc(),pc(c.attr("data-mp3-title"),c.attr("data-mp3-artist"),c.attr("data-mp3-hash"))}),c.on("click",".podcast__btn--pause",mc)}else{var d=a(".gmr-mediaelement-fallback audio"),e=a(".podcast__play");d.mediaelementplayer(),e.hide()}}function pb(){is_gigya_user_logged_in()?a.support.pjax&&a(document).pjax("a:not(.ab-item)",".main",{fragment:".main",maxCacheLength:500,timeout:1e4}):gmr.wpLoggedIn?a.support.pjax&&a(document).pjax("a:not(.ab-item)",".page-wrap",{fragment:".page-wrap",maxCacheLength:500,timeout:1e4}):a.support.pjax&&a(document).pjax("a:not(.ab-item)",".main",{fragment:".main",maxCacheLength:500,timeout:1e4})}function qb(a){Eb===!0||!0===Cb||a.preventDefault()}function rb(){var a,b=document.querySelectorAll(".audio__progress"),c=0;for(a=0;a<b.length;++a)Db.currentTime>0&&(c=Math.floor(100/Db.duration*Db.currentTime)),b[a].style.width=c+"%"}function sb(){var a,b,c,d,e=document.querySelectorAll(".audio__time--remaining"),f=parseInt(Db.duration),g=parseInt(Db.currentTime),h=new Date(2e3,1,1,0,0,0);for(isNaN(f)?f=g=0:isNaN(g)&&(g=0),h.setSeconds(f-g),b=h.getHours(),c=("0"+h.getMinutes()).slice(-2),d=("0"+h.getSeconds()).slice(-2),h=b>0?b+":"+c+":"+d:c+":"+d,a=0;a<e.length;++a)e[a].innerHTML=h}function tb(){var a,b,c,d,e=document.querySelectorAll(".audio__time--elapsed"),f=parseInt(Db.currentTime),g=new Date(2e3,1,1,0,0,0);for(g.setSeconds(isNaN(f)?0:f),a=g.getHours(),b=("0"+g.getMinutes()).slice(-2),c=("0"+g.getSeconds()).slice(-2),g=a>0?a+":"+b+":"+c:b+":"+c,d=0;d<e.length;++d)e[d].innerHTML=g}var ub,vb,wb,xb,yb,zb,Ab,Bb,Cb=(lb().tech||"html5_flash","false"==lb().aSyncCuePointFallback?!1:!0,!1),Db=!1,Eb=!1,Fb=document.querySelector("body"),Gb=document.getElementById("td_container"),Hb=document.getElementById("live-player"),Ib=document.querySelector(".live-stream__player"),Jb=document.getElementById("playButton"),Kb=document.getElementById("pauseButton"),Lb=document.getElementById("resumeButton"),Mb=document.getElementById("loadButton"),Nb=document.querySelector(".podcast__btn--play"),Ob=document.querySelector(".podcast__btn--pause"),Pb=document.querySelector(".podcast-player"),Qb=document.getElementById("live-stream__listen-now"),Rb=document.getElementById("live-stream__now-playing"),Sb=document.getElementById("live-stream__login"),Tb=a(document.getElementById("trackInfo")),Ub=gigya_profile_path("login"),Vb=document.getElementById("clearDebug"),Wb=document.getElementById("on-air"),Xb=document.getElementById("live-stream__status"),Yb=document.getElementById("nowPlaying"),Zb=document.getElementById("trackInfo"),$b=document.querySelector(".live-player__stream"),_b=null,ac=null,bc=(document.querySelector(".footer"),!1),cc=a(document.getElementById("live-player--volume")),dc=1;b.tdPlayerApiReady=function(){mb("--- TD Player API Loaded ---"),j()};var ec=function(){var a=Qb.textContent,c=document.getElementById("trackInfo"),d=document.getElementById("npeInfo");!0===Cb&&(Db.pause(),c.innerHTML="",d.innerHTML="",hc(),q(),Cb=!1,h()),"Switch to Live Stream"===a&&(Qb.innerHTML="Listen Live"),b.innerWidth>=768&&C()};a(document).ready(function(){x()});var fc=a(".live-player__stream--current-name");fc.bind("DOMSubtreeModified",function(){if(is_gigya_user_logged_in()){mb("--- new stream select ---");var a=fc.text();Ab&&ub.stop(),!0===Cb&&ec(),ub.play({station:a,timeShift:!0}),Hb.classList.add("live-player--active"),l()}else b.location.href=Ub});var gc=function(){"undefined"!=typeof ub&&"undefined"!=typeof ub.stop&&ub.stop()},hc=function(){a(".podcast__btn--play.playing").removeClass("playing"),a(".podcast__btn--pause.playing").removeClass("playing")},ic=function(){var b=".mp3-"+xb;a(b+" .podcast__btn--play").addClass("playing"),a(b+" .podcast__btn--pause").addClass("playing")},jc=function(a){Db.src=a},kc=function(){Cb=!0,gc(),Db.play(),Db.volume=O(),nc(),oc(),hc(),l(),ic(),o(),f()},lc=function(a){pb(),a!==Db.src&&jc(a),kc()},mc=function(){Db.pause(),hc(),Cb=!1,n(),h()},nc=function(){var b=_.template('<div class="now-playing__title"><%- title %></div>'),c=a(".now-playing__title"),d='<div class="audio__title">',e='</div><div class="audio__time"><span class="audio__time--inline">(</span><div class="audio__time--elapsed"></div><span class="audio__time--inline"> / </span><div class="audio__time--remaining"></div><span class="audio__time--inline">)</span></div>';c.length>0?c.html(d+wb+e):Tb.prepend(b({title:wb}))},oc=function(){var b=_.template('<div class="now-playing__artist"><%- artist %></div>'),c=a(".now-playing__artist");c.length>0?c.text(vb):Tb.append(b({artist:vb}))},pc=function(a,b,c){wb=a,vb=b,xb=c,nc(),oc(),ic()},qc=function(){"undefined"!=typeof Modernizr&&Modernizr.audio&&(Db=new Audio,Db.addEventListener?Db.addEventListener("ended",function(){hc(),n(),h()}):Db.attachEvent&&Db.attachEvent("ended",function(){hc(),n(),h()}))};a(document).bind("pjax:click",qb),a(".audio__progress-bar").click(function(b){var c=a(this),d=c.width(),e=c.offset(),f=b.pageX-e.left,g=Math.floor(f/d*Db.duration);Db.currentTime=g}),qc(),ob(),Db.addEventListener("timeupdate",function(){rb(),tb(),sb()},!1),d(Nb,"click",o),d(Ob,"click",mc),a(document).on("pjax:end",function(){ob(),ic(),d(Nb,"click",o),d(Ob,"click",mc)})}(jQuery,window);